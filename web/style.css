:root { --bg:#0b0f12; --fg:#e8eef2; --muted:#9fb0bd; --accent:#22aaff; --panel:#121820; --border:#203040; }
:root[data-theme="light"] { --bg:#f7f8fa; --fg:#0b0f12; --muted:#607086; --accent:#1565c0; --panel:#ffffff; --border:#e2e8f0; }
* { box-sizing: border-box; }
body { margin:0; background:var(--bg); color:var(--fg); font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans"; transition: background-color .2s ease, color .2s ease; }
.app { display:grid; grid-template-columns: 320px 1fr; gap:16px; max-width: 1200px; margin: 16px auto; padding: 0 12px; }
.sidebar { display:flex; flex-direction:column; gap:12px; }
.section { background:var(--panel); border:1px solid var(--border); padding:12px; border-radius:10px; }
.muted { color: var(--muted); }
.subtle { color: var(--muted); font-size: 13px; margin: 4px 0 6px; }
.cap { font-size:12px; letter-spacing:.4px; text-transform: uppercase; }
.grow { flex:1 }
.row { display:flex; gap:8px; align-items:center; }
.inputs { display:flex; gap:10px; flex-wrap:wrap; }
.field input, select, textarea, input[type=number] { width:100%; padding:6px 8px; border-radius:8px; border:1px solid var(--border); background:transparent; color:var(--fg); }
:root[data-theme="light"] .field input, :root[data-theme="light"] select, :root[data-theme="light"] textarea, :root[data-theme="light"] input[type=number] { background:#fff; }
.levels { display:flex; flex-direction:column; gap:8px; }
.levels label { display:flex; gap:8px; align-items:center; justify-content:space-between; }
.levels input[type=range] { width: 160px; }
.level-now { color: var(--muted); }
.small { font-size: 12px; }
.mt8 { margin-top:8px; }
.btn { background:transparent; color:var(--fg); border:1px solid var(--border); border-radius:10px; padding:8px 12px; cursor:pointer; }
.btn:hover { border-color:#2c4d6b; }
.btn.primary { background: var(--accent); border-color:var(--accent); color:#fff; }
.btn[disabled] { opacity:.5; cursor:not-allowed; }
.btn.wide { width: 100%; }
.status-dot { width:10px; height:10px; border-radius:50%; background:#3a4a57; }
.status-dot.on { background:#22c55e; }
.grid2 { display:grid; grid-template-columns: 1fr 1fr; gap:8px; }

.main { display:flex; flex-direction:column; gap:12px; }
.card { background:var(--panel); border:1px solid var(--border); border-radius:10px; }
.wave-wrap { padding:10px; }
#wave { width:100%; height: 120px; background:rgba(0,0,0,0.08); border-radius:8px; display:block; }
:root[data-theme="light"] #wave { background:#f0f4f8; }
.caption { position:sticky; top:8px; background:var(--panel); border:1px solid var(--border); border-radius:10px; padding:10px; color:var(--fg); }
.transcripts { display:flex; flex-direction:column; }
.transcripts .list { max-height: calc(100vh - 360px); overflow:auto; padding: 10px 12px; gap:8px; display:flex; flex-direction:column; }
.item { display:flex; gap:10px; align-items:flex-start; }
.time { font-size:12px; color:var(--muted); width:56px; flex:none; }
.bubble { background:#0e141b; border:1px solid var(--border); padding:8px 10px; border-radius:10px; flex:1; }
:root[data-theme="light"] .bubble { background:#ffffff; }
.chip { display:inline-block; font-size:12px; padding:2px 6px; border-radius:999px; background:#163047; color:#9fd3ff; margin-right:8px; }
.toolbar { border-top:1px dashed var(--border); padding:8px 10px; display:flex; align-items:center; gap:8px; }
.hide { display:none !important; }
.fold { margin-top: 8px; }
.fold > summary { cursor: pointer; color: var(--muted); list-style: none; }
.fold > summary::marker { display: none; }
.fold[open] > summary { color: var(--fg); }
